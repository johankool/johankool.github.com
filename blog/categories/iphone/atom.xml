<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: iPhone | Koolistov]]></title>
  <link href="http://koolistov.net/blog/categories/iphone/atom.xml" rel="self"/>
  <link href="http://koolistov.net/"/>
  <updated>2012-02-26T23:23:49+08:00</updated>
  <id>http://koolistov.net/</id>
  <author>
    <name><![CDATA[Johan Kool]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Why iOS Apps Crash]]></title>
    <link href="http://koolistov.net/blog/2012/02/04/why-ios-apps-crash/"/>
    <updated>2012-02-04T17:21:00+08:00</updated>
    <id>http://koolistov.net/blog/2012/02/04/why-ios-apps-crash</id>
    <content type="html"><![CDATA[<p>Today <a href="http://www.forbes.com/sites/tomiogeron/2012/02/02/does-ios-crash-more-than-android-a-data-dive/">a Forbes article</a> by Tomio Geron did the rounds that compared the number of crashes in various versions of iOS with those happening in various versions of Android based on data from <a href="http://www.crittercism.com/">Crittercism</a>. That crashes are bad is undeniably true. However, not all crashes are the same.</p>

<p>The implied link between OS version and the occurrence of crashes surprised me. I am not quite so sure if such a link in fact exists. I'd also argue that a higher crash rate says little about the quality of the OS version, or even of the app.</p>

<!--more-->


<p>But we first lets go over the type of crashes that can occur. I am an iOS developer with very little to no knowledge about Android, so the discussion will focus on iOS crashes.</p>

<h3>Memory Kill</h3>

<p>On iOS the system is quite unforgiving to apps using too much memory or CPU resources. The app does receive warnings if memory usage gets too high, but it the app fails to properly respond timely by freeing up memory is will unceremoniously get the boot. As a developer I don't call this a crash, but poor memory management. It is nevertheless a serious issue and developers should make sure to stress test their apps.</p>

<h3>Crashes</h3>

<p>If the app does not get the boot but actually does crash, it is often caused by one of two reasons: bad memory management or calling a method unknown to the callee. There are other reasons for crashes to happen, but I expect the majority of crashes to be either one of these two.</p>

<h4>Memory Management</h4>

<p>For an experienced Cocoa developer the memory management approach of Cocoa has little secrets anymore, but it is unsurprising that the large number of developers new to Cocoa and Objective-C (of which there are many, judging by the rise of Objective-C in <a href="http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html">the latest Tiobe index</a>) have difficulties with it. One mistake is enough to cause a crash. Unfamiliarity with the coding conventions on memory management easily gets newcomers to make such mistakes.</p>

<p>With iOS 5 Apple introduced Automatic Reference Counting (ARC) which helps them, as well as the experienced developers, greatly. However, as this is a very new technology not all developers have picked it up yet.</p>

<p>The old way is not directly bad however, as it does give much finer control over memory usage than is possible with garbage collection. The latter being what is used in many modern languages (including in Java on Android) to manage memory automatically. This does however come with overhead which is very undesirable on a mobile platform. So here Apple chose to require more skills from the developer in order to give the user a better experience.</p>

<p>The beauty of ARC is that it gets the benefit of garbage collection, but does not come with the extra overhead. ARC automatically inserts the proper memory management at compile time. With ARC the manual memory management skills of a developer are no longer quite so essential. So as developers pick up on ARC, memory related crashes should go down.</p>

<h4>Unknown Selector</h4>

<p><span class='pullquote-right' data-pullquote='with great power comes great responsibility'>
Because Objective-C is a weakly typed system, it is possible to call methods on an instance that the instance does not expect. This can be avoided with strongly typed system, but at the cost of foregoing the sophisticated solutions that are possible with a weakly typed system. Basically, with great power comes great responsibility. As a Cocoa developer you need to be willing to take this responsibility.
</span></p>

<h4>Reproducibility</h4>

<p>Another way to look at crashes is to see how easily they can be reproduced. Some can be easily reproduced: trying to use feature will crash the app. Others can only be reproduced in specific circumstances: trying to use a feature using a particular setting will crash the app. And then there are some crashes that only sporadically cause trouble: using a feature on Mondays at midnight causes trouble.</p>

<p>So where one bug can easily cause a plentitude of crashes, a bunch of others may only cause a handful of crashes. This is the main reason why concluding that the code in an app, or an OS version, is of poor quality based on the number of crashes is wrong. At most you can argue that the crash should have been caught during testing, so that the crashes reflect poorly on the overall quality of the app.</p>

<p>Back to the article, Tomio Geron, its author, further says:</p>

<p><blockquote><p>"Anecdotally, I know that certain apps I use on my iPhone crash and they crash often."</p></blockquote></p>

<p>That an app keeps crashing if you keep on trying to use it in the same way can hardly be called surprising. Surely the developers of those apps have some work to do here, but it's hard to make sensible conclusions from this.</p>

<p>As for the number of crashes occurring in a particular OS version it basically says nothing about the quality of the OS version. The vast majority of crashes are caused by bugs in the app code, not by bugs in the system. It is more likely that crashes in a new OS version such as iOS 5 are caused by apps that have not yet been updated by their developers. If an app needed changes it was however often due to false assumptions being made in the code while it was developed for iOS 4. If apps are designed according to Apple's documentation for Cocoa it is unlikely to encounter issues on a new iOS version.</p>

<p>Developers have little excuse anyway, as test versions of new iOS versions are made available to them for testing.</p>

<h3>Hardware</h3>

<p>The Forbes article quotes Crittercism CEO Andrew Levy as saying that crashes can be caused by hardware issues (GPS or camera), or the availability of a network connection. If that is the case, it is mostly, if not completely, due to poor developer skills. It is the duty of the developer to anticipate all expected situations. Expected situations include the unavailability of the users location, a camera or a network connection. It also shows that the app has not been tested rigorously enough. There certainly is API in iOS to deal with all of these situations and developers don't really have an excuse not to do so.</p>

<h3>Third Party Code</h3>

<p>The point raised in the article about third-party services is certainly valid. It is vitally important to realize the risk of using a third-party library in your app. It only takes one shoddy library to turn your app into a crash prone piece of crap. Evaluation and testing of third-party code is for this reason very important. If you are developing for a client, you need to be able to communicate to them that willy-nilly adding of outside code can be a risky affair. Anyway, the desire to include multiple analytics packages into one app has always puzzled me. But then, my ideal app doesn't include any.</p>

<p>In this way the data collected by Crittercism is also skewed. It is based on crashes reported by apps that include its library. So these are apps by developers who are likelier to not be squeamish about third-party code.</p>

<h3>App Store</h3>

<p>The App Store is indeed a hindrance in providing quick bug fixes to users. There is nothing so frustrating as having a fix ready and then having to wait a couple of days before it can get to your users. On the other side, there is real value in having a vetted store to keep the crud out. It is difficult to say what the right balance is here. It would be great if Apple would let updates go through right away for developers with a proven track record. But that would open another can of worms, because what constitutes a proven track record? It would also put newcomers at a severe competitive disadvantage.</p>

<h3>Conclusion</h3>

<p>The number of crashes reported for an app does not necessarily directly reflect the number of bugs in its source code, nor does it necessarily reflect the overall quality of the source code. The number of crashes of apps on a particular OS version is even less indicative of the quality of the OS version. There are two many other factors at play, but mostly, app crashes are 99 out of 100 times a bug in the app's code as opposed to the OS code.</p>

<p>The App Store is a frustrating obstacle for a quick response to deliver fixes, but one that iOS developers just have to learn to live with.</p>
]]></content>
  </entry>
  
</feed>
